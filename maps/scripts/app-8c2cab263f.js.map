{"version":3,"sources":["scripts/app.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_index","_index2","_index3","_main","_formulas","_formulas2","_hsoptimizer","_hsoptimizer2","_maths","_maths2","_mechanics","_mechanics2","_savedataanalyzer","_savedataanalyzer2","_savedecoder","_savedecoder2","_exponential","_exponential2","_units","_units2","_numbertoexport","_numbertoexport2","angular","config","routerConfig","run","runBlock","value","service","filter","controller","MainController","$logProvider","debugEnabled","$inject","Object","defineProperty","$routeProvider","when","templateUrl","controllerAs","otherwise","redirectTo","$log","debug","_classCallCheck","instance","Constructor","TypeError","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","$scope","saveDecoder","formulas","saveDataAnalyzer","hsoptimizer","mechanics","_this","this","resetForm","saveData","hsInStock","ascendZone","ancients","playStyle","hsFromAscend","includeSoulsFromAscend","asTotal","suggestHs","error","element","parent","removeClass","useScientificNotation","hybridRatio","slider","options","stepsArray","onChange","$watch","encodedData","decryptSave","hasTranscended","detectPlayStyle","addClass","e","getHsInStock","getAscendZone","getHsUponAscend","getNumberDisplayMode","getAncientSoulsTotal","$watchGroup","_ref","_ref2","hs","computeOptimumLevels","getAncients","getOutsiders","chorgorlothLevel","outsider","name","level","totalCost","outsiders","computeOptimumAncientSouls","getAncientUpgradeCost","currentLevel","newLevel","getOutsiderUpgradeCost","reduce","total","ancient","optimumLevel","Formulas","baseLevel","Math","pow","oldBubosLevel","log","exp","oldChronosLevel","oldDoraLevel","oldDogcogLevel","oldFortunaLevel","alpha","oldAtmanLevel","oldKumawakamaruLevel","tp","ascensionZone","hpScale","ceil","ancientSoulsTotal","phandoryssLevel","baseTp","phandoryssBonus","min","floor","remainingAncientSouls","table","as","pop","max","returnBaseLevel","idleAndHybrid","formula","activeOrHybrid","activeFormula","hybridFormula","allStyles","HSOptimizer","ancientsOptimizedLevel","Solomon","old","computeSolomonLevel","Libertas","computeGoldLevel","Siyalatas","Mammon","Mimzee","Dogcog","computeDogcogLevel","Fortuna","computeFortunaLevel","Atman","computeAtmanLevel","Dora","computeDoraLevel","Bhaal","computeHybridBhaalLevel","Morgulis","computeMorgulisLevel","Chronos","computeChronosLevel","Bubos","computeBubosLevel","Fragsworth","Kumawakamaru","computeKumawakamaruLevel","Argaiv","Juggernaut","computeActiveJuggernautLevel","computeHybridJuggernautLevel","Nogardnit","computeNogardnitLevel","ancientList","computeTranscendencePower","computeAlpha","remainingHs","baseLevelIncrease","computeNewLevel","ancientName","newBaseLevel","oldLevel","optimizationFormula","playStyleForumla","normalize","round","computeNewLevels","currentAncients","map","optimizedLevel","getCost","ancientLevels","baseOffset","lastBaseOffset","levelToCheck","newLevels","optimumAncients","delta","outsiderList","currentXyliqilLevel","currentChorgorlothLevel","currentPhandoryssLevel","currentBorbLevel","currentPonyboyLevel","xyliqilTargetLevel","computeIdleXyliqil","computeActiveXyliqil","computeHybridXyliqil","phandoryssTargetLevel","computePhandoryss","borbTargetLevelA","computeBorbA","ponyTargetLevelB","computePonyboy","chorTargetLevelC","computeChorgorloth","borbTargetLevelD","computeBorbD","borbTargetLevelE","computeBorbE","intermediateBorbLevel","ponyTargetLevelE","order","linear","unit","n","sum","linear10","constant","exponential","polynomial1_5","sumApprox","fn","Mechanics","maths","cost","Vaagur","Chawedo","Hecatoncheir","Berserker","Sniperino","Kleptos","Energon","Revolc","Xyliqil","Chor'gorloth","Phandoryss","Borb","Ponyboy","arguments","getAncientCostSum","getAncientCostMultiplier","playStyleReducer","style1","style2","SaveDataAnalyzer","keys","getAncientNameById","_this2","getOutsiderNameById","heroSouls","primalSouls","highestFinishedZonePersist","transcendent","numberDisplayMode","_decryptSave","string","antiCheatCodeIndex","search","ANTI_CHEAT_CODE","fromAntiCheatFormat","jsonString","atob","JSON","parse","elements","split","data","unSprinkle","hash","dataHash","getHash","alert","array","result","counter","join","characters","sort","sortedcharacters","CryptoJS","MD5","SALT","SaveDecoder","encodedSaveData","input","limit","toLocaleString","toExponential","replace","units","suffixes","formatScientificNotation","formatWithSuffix","formatWithoutSuffix","scientificNotation","abs","log10","_typeof","x","_formatWithSuffix","constructor","numberToExport","getLog10","integralScientificNotation","exponent","integralExponent","integralSignificand","toString","$templateCache","put"],"mappings":"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","file":"../../scripts/app-8c2cab263f.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _index = __webpack_require__(1);\n\n\tvar _index2 = __webpack_require__(2);\n\n\tvar _index3 = __webpack_require__(3);\n\n\tvar _main = __webpack_require__(4);\n\n\tvar _formulas = __webpack_require__(5);\n\n\tvar _formulas2 = _interopRequireDefault(_formulas);\n\n\tvar _hsoptimizer = __webpack_require__(6);\n\n\tvar _hsoptimizer2 = _interopRequireDefault(_hsoptimizer);\n\n\tvar _maths = __webpack_require__(7);\n\n\tvar _maths2 = _interopRequireDefault(_maths);\n\n\tvar _mechanics = __webpack_require__(8);\n\n\tvar _mechanics2 = _interopRequireDefault(_mechanics);\n\n\tvar _savedataanalyzer = __webpack_require__(9);\n\n\tvar _savedataanalyzer2 = _interopRequireDefault(_savedataanalyzer);\n\n\tvar _savedecoder = __webpack_require__(10);\n\n\tvar _savedecoder2 = _interopRequireDefault(_savedecoder);\n\n\tvar _exponential = __webpack_require__(11);\n\n\tvar _exponential2 = _interopRequireDefault(_exponential);\n\n\tvar _units = __webpack_require__(12);\n\n\tvar _units2 = _interopRequireDefault(_units);\n\n\tvar _numbertoexport = __webpack_require__(13);\n\n\tvar _numbertoexport2 = _interopRequireDefault(_numbertoexport);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tangular.module('clickerHeroes10Hsoptimizer', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ngRoute', 'ui.bootstrap', 'ngclipboard', 'rzModule']).config(_index.config).config(_index2.routerConfig).run(_index3.runBlock).value('maths', _maths2.default).service('formulas', _formulas2.default).service('mechanics', _mechanics2.default).service('hsoptimizer', _hsoptimizer2.default).service('saveDataAnalyzer', _savedataanalyzer2.default).service('saveDecoder', _savedecoder2.default).filter('exponential', _exponential2.default).filter('units', _units2.default).filter('numberToExport', _numbertoexport2.default).controller('MainController', _main.MainController);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tconfig.$inject = [\"$logProvider\"];\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.config = config;\n\tfunction config($logProvider) {\n\t  'ngInject';\n\t  // Enable log\n\n\t  $logProvider.debugEnabled(true);\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\trouterConfig.$inject = [\"$routeProvider\"];\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.routerConfig = routerConfig;\n\tfunction routerConfig($routeProvider) {\n\t  'ngInject';\n\n\t  $routeProvider.when('/', {\n\t    templateUrl: 'app/main/main.html',\n\t    controller: 'MainController',\n\t    controllerAs: 'main'\n\t  }).otherwise({\n\t    redirectTo: '/'\n\t  });\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\trunBlock.$inject = [\"$log\"];\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.runBlock = runBlock;\n\tfunction runBlock($log) {\n\t  'ngInject';\n\n\t  $log.debug('runBlock end');\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\t// TODO remove $scope when possible\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar MainController = exports.MainController = function () {\n\t  MainController.$inject = [\"$scope\", \"$log\", \"saveDecoder\", \"formulas\", \"saveDataAnalyzer\", \"hsoptimizer\", \"mechanics\"];\n\t  function MainController($scope, $log, saveDecoder, formulas, saveDataAnalyzer, hsoptimizer, mechanics) {\n\t    'ngInject';\n\n\t    var _this = this;\n\n\t    _classCallCheck(this, MainController);\n\n\t    this.mechanics = mechanics;\n\n\t    var resetForm = function resetForm() {\n\t      $scope.saveData = null;\n\t      $scope.hsInStock = 0;\n\t      $scope.ascendZone = 0;\n\t      $scope.ancients = [];\n\t      $scope.playStyle = \"idle\";\n\t      $scope.hsFromAscend = 0;\n\t      $scope.includeSoulsFromAscend = false;\n\t      $scope.asTotal = 0;\n\t      $scope.suggestHs = false;\n\t      $scope.error = undefined;\n\n\t      angular.element('#saveData').parent().removeClass('has-error');\n\t      $scope.useScientificNotation = false;\n\t      $scope.hybridRatio = 0.5;\n\t      $scope.slider.value = 0.5;\n\t    };\n\n\t    $scope.slider = {\n\t      value: 0.5,\n\t      options: {\n\t        stepsArray: [{ value: 0.1 }, { value: 0.2 }, { value: 0.3 }, { value: 0.4 }, { value: 0.5 }, { value: 0.6 }, { value: 0.7 }, { value: 0.8 }, { value: 0.9 }, { value: 1 }, { value: 1.5 }, { value: 2 }, { value: 2.5 }, { value: 3 }, { value: 4 }, { value: 5 }, { value: 6 }, { value: 7 }, { value: 8 }, { value: 9 }, { value: 10 }],\n\t        onChange: function onChange(id, value) {\n\t          $scope.hybridRatio = value;\n\t        }\n\t      }\n\t    };\n\n\t    resetForm();\n\n\t    $scope.$watch('encodedSaveData', function (encodedData) {\n\t      resetForm();\n\n\t      if (encodedData) {\n\t        try {\n\t          var saveData = saveDecoder.decryptSave(encodedData);\n\t          if (!saveDataAnalyzer.hasTranscended(saveData)) {\n\t            $scope.error = \"Sorry, you need to have transcended at least once to use this calculator\";\n\t            angular.element('#saveData').parent().addClass('has-error');\n\t          } else {\n\t            if (saveDataAnalyzer.detectPlayStyle(saveData)) {\n\t              $scope.suggestHs = true;\n\t            } else {\n\t              $scope.suggestHs = false;\n\t            }\n\t            $scope.saveData = saveData;\n\t          }\n\t        } catch (e) {\n\t          $log.debug(e);\n\t          $scope.error = \"Save data is invalid\";\n\t          angular.element('#saveData').parent().addClass('has-error');\n\t        }\n\t      }\n\t    });\n\n\t    $scope.$watch('saveData', function (saveData) {\n\t      if (saveData) {\n\t        $scope.hsInStock = saveDataAnalyzer.getHsInStock(saveData);\n\t        $scope.ascendZone = saveDataAnalyzer.getAscendZone(saveData);\n\t        $scope.playStyle = saveDataAnalyzer.detectPlayStyle(saveData) || \"idle\";\n\t        $scope.hsFromAscend = saveDataAnalyzer.getHsUponAscend(saveData);\n\t        $scope.useScientificNotation = saveDataAnalyzer.getNumberDisplayMode(saveData);\n\t        $scope.asTotal = saveDataAnalyzer.getAncientSoulsTotal(saveData);\n\t      }\n\t    });\n\n\t    // see http://stackoverflow.com/questions/21088845/can-i-debounce-or-throttle-a-watched-input-in-angularjs-using-lodash\n\t    // TODO debounce (lodash)\n\t    $scope.$watchGroup(['saveData', 'ascendZone', 'playStyle', 'includeSoulsFromAscend', 'hybridRatio'], function (_ref) {\n\t      var _ref2 = _slicedToArray(_ref, 5),\n\t          saveData = _ref2[0],\n\t          ascendZone = _ref2[1],\n\t          playStyle = _ref2[2],\n\t          includeSoulsFromAscend = _ref2[3],\n\t          hybridRatio = _ref2[4];\n\n\t      if (saveData) {\n\t        var hs = $scope.hsInStock;\n\t        if (includeSoulsFromAscend) {\n\t          hs += $scope.hsFromAscend;\n\t        }\n\t        if ($scope.suggestHs) {\n\t          $scope.ancients = hsoptimizer.computeOptimumLevels(saveDataAnalyzer.getAncients(saveData), saveDataAnalyzer.getOutsiders(saveData), hs, ascendZone, saveDataAnalyzer.getAncientSoulsTotal(saveData), playStyle, hybridRatio);\n\t          var chorgorlothLevel = saveDataAnalyzer.getOutsiders($scope.saveData).filter(function (outsider) {\n\t            return outsider.name === 'Chor\\'gorloth';\n\t          })[0].level;\n\n\t          $scope.totalCost = _this.totalCost(mechanics, $scope.ancients, chorgorlothLevel);\n\t        }\n\n\t        $scope.outsiders = hsoptimizer.computeOptimumAncientSouls(saveDataAnalyzer.getOutsiders(saveData), saveDataAnalyzer.getAncientSoulsTotal(saveData), playStyle);\n\t      }\n\t    });\n\n\t    $scope.getAncientUpgradeCost = function (name, currentLevel, newLevel) {\n\t      var chorgorlothLevel = saveDataAnalyzer.getOutsiders($scope.saveData).filter(function (outsider) {\n\t        return outsider.name === 'Chor\\'gorloth';\n\t      })[0].level;\n\t      return mechanics.getAncientUpgradeCost(name, currentLevel, newLevel, chorgorlothLevel);\n\t    };\n\n\t    $scope.getOutsiderUpgradeCost = function (name, currentLevel, newLevel) {\n\t      return mechanics.getOutsiderUpgradeCost(name, currentLevel, newLevel);\n\t    };\n\n\t    // Must return $scope to be able to use the 'dot notation' in the view\n\t    // http://stackoverflow.com/questions/25306582/angulars-controlleras-not-working-in-routeprovider/38197324#38197324\n\t    return $scope;\n\t  }\n\n\t  _createClass(MainController, [{\n\t    key: 'totalCost',\n\t    value: function totalCost(mechanics, ancients, chorgorlothLevel) {\n\t      return ancients.reduce(function (total, ancient) {\n\t        return total + mechanics.getAncientUpgradeCost(ancient.name, ancient.level, ancient.optimumLevel, chorgorlothLevel);\n\t      }, 0);\n\t    }\n\t  }]);\n\n\t  return MainController;\n\t}();\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar Formulas = function () {\n\t  function Formulas() {\n\t    'ngInject';\n\n\t    _classCallCheck(this, Formulas);\n\t  }\n\n\t  _createClass(Formulas, [{\n\t    key: 'computeMorgulisLevel',\n\t    value: function computeMorgulisLevel(baseLevel) {\n\t      return Math.pow(baseLevel, 2);\n\t    }\n\t  }, {\n\t    key: 'computeBubosLevel',\n\t    value: function computeBubosLevel(baseLevel, oldBubosLevel) {\n\t      return 2.8 * Math.log(baseLevel) - 1.4 * Math.log(1 + Math.exp(-0.02 * oldBubosLevel)) - 5.94;\n\t    }\n\t  }, {\n\t    key: 'computeChronosLevel',\n\t    value: function computeChronosLevel(baseLevel, oldChronosLevel) {\n\t      return 2.75 * Math.log(baseLevel) - 1.375 * Math.log(2 - Math.exp(-0.034 * oldChronosLevel)) - 5.1;\n\t    }\n\t  }, {\n\t    key: 'computeGoldLevel',\n\t    value: function computeGoldLevel(baseLevel) {\n\t      return 0.926 * baseLevel;\n\t    }\n\t  }, {\n\t    key: 'computeDoraLevel',\n\t    value: function computeDoraLevel(baseLevel, oldDoraLevel) {\n\t      return 2.877 * Math.log(baseLevel) - 1.4365 * Math.log(100 / 99 - Math.exp(-0.002 * oldDoraLevel)) - 9.63;\n\t    }\n\t  }, {\n\t    key: 'computeDogcogLevel',\n\t    value: function computeDogcogLevel(baseLevel, oldDogcogLevel) {\n\t      return 2.844 * Math.log(baseLevel) - 1.422 * Math.log(1 / 99 + Math.exp(-0.01 * oldDogcogLevel)) - 7.232;\n\t    }\n\t  }, {\n\t    key: 'computeFortunaLevel',\n\t    value: function computeFortunaLevel(baseLevel, oldFortunaLevel) {\n\t      return 2.875 * Math.log(baseLevel) - 1.4375 * Math.log(10 / 9 - Math.exp(-0.0025 * oldFortunaLevel)) - 9.3;\n\t    }\n\t  }, {\n\t    key: 'computeSolomonLevel',\n\t    value: function computeSolomonLevel(baseLevel, alpha) {\n\t      return Math.pow(baseLevel, 0.8) / Math.pow(alpha, 0.4);\n\t    }\n\t  }, {\n\t    key: 'computeAtmanLevel',\n\t    value: function computeAtmanLevel(baseLevel, oldAtmanLevel, alpha) {\n\t      return 2.832 * Math.log(baseLevel) - 1.416 * Math.log(alpha) - 1.416 * Math.log(4 / 3 - Math.exp(-0.013 * oldAtmanLevel)) - 6.613;\n\t    }\n\t  }, {\n\t    key: 'computeKumawakamaruLevel',\n\t    value: function computeKumawakamaruLevel(baseLevel, oldKumawakamaruLevel, alpha) {\n\t      return 2.844 * Math.log(baseLevel) - 1.422 * Math.log(alpha) - 1.422 * Math.log(0.25 + Math.exp(-0.01 * oldKumawakamaruLevel)) - 7.014;\n\t    }\n\t  }, {\n\t    key: 'computeNogardnitLevel',\n\t    value: function computeNogardnitLevel(baseLevel) {\n\t      return Math.pow(0.926 * baseLevel, 0.8);\n\t    }\n\n\t    // Formulas taken from https://kepow.org/clickerheroes\n\t    // and https://www.reddit.com/r/ClickerHeroes/comments/3y57jd/updated_rules_of_thumb/\n\t    // changed ratio from 0.1 to 0.5 in respect to original Rules of Thumb\n\t    // for a more active power !\n\n\t  }, {\n\t    key: 'computeHybridBhaalLevel',\n\t    value: function computeHybridBhaalLevel(baseLevel, hybridRatio) {\n\t      return hybridRatio * baseLevel;\n\t    }\n\t  }, {\n\t    key: 'computeHybridJuggernautLevel',\n\t    value: function computeHybridJuggernautLevel(baseLevel, hybridRatio) {\n\t      return Math.pow(hybridRatio * baseLevel, 0.8);\n\t    }\n\t  }, {\n\t    key: 'computeActiveJuggernautLevel',\n\t    value: function computeActiveJuggernautLevel(baseLevel) {\n\t      return Math.pow(baseLevel, 0.8);\n\t    }\n\n\t    // Alpha formula from: http://alexbonjour.github.io/rules-of-thumb/\n\n\t  }, {\n\t    key: 'computeAlpha',\n\t    value: function computeAlpha(tp, ascensionZone) {\n\t      var hpScale = Math.ceil(ascensionZone / 500) * 0.005 + 1.14;\n\t      return 1.4067 * Math.log(1 + tp) / Math.log(hpScale);\n\t    }\n\n\t    // TP formula from: https://www.reddit.com/r/ClickerHeroes/wiki/faqtranscendence\n\n\t  }, {\n\t    key: 'computeTranscendencePower',\n\t    value: function computeTranscendencePower(ancientSoulsTotal, phandoryssLevel) {\n\t      var baseTp = 50 - 49 * Math.exp(-ancientSoulsTotal / 10000);\n\t      var phandoryssBonus = 0.05 * phandoryssLevel;\n\t      return (baseTp + phandoryssBonus) / 100;\n\t    }\n\n\t    // Outsider formulas from: https://www.reddit.com/r/ClickerHeroes/comments/4rrbpi/math_outsiders_rule_of_thumb/\n\n\t  }, {\n\t    key: 'computeActiveXyliqil',\n\t    value: function computeActiveXyliqil() {\n\t      return 0;\n\t    }\n\t  }, {\n\t    key: 'computeHybridXyliqil',\n\t    value: function computeHybridXyliqil(ancientSoulsTotal) {\n\t      return Math.min(Math.floor(ancientSoulsTotal / 20), 5);\n\t    }\n\t  }, {\n\t    key: 'computeIdleXyliqil',\n\t    value: function computeIdleXyliqil(ancientSoulsTotal) {\n\t      return Math.min(Math.floor(ancientSoulsTotal / 5), 10);\n\t    }\n\n\t    /*\n\t    Phandoryss-Level\t1\t2\t3\t4\t5\t6\t7\t8\t9\t10\n\t    AS-Minimum\t3\t10\t21\t36\t54\t60\t67\t75\t84\t94\n\t    Phandoryss-Level\t11\t12\t13\t14\t15\t16\t17\t18\t19\n\t    AS-Minimum\t104\t117\t129\t143\t158\t174\t190\t208\t228\n\t    */\n\n\t  }, {\n\t    key: 'computePhandoryss',\n\t    value: function computePhandoryss(remainingAncientSouls) {\n\t      var table = [{ level: 1, as: 3 }, { level: 2, as: 10 }, { level: 3, as: 21 }, { level: 4, as: 36 }, { level: 5, as: 54 }, { level: 6, as: 60 }, { level: 7, as: 67 }, { level: 8, as: 75 }, { level: 9, as: 84 }, { level: 10, as: 94 }, { level: 11, as: 104 }, { level: 12, as: 117 }, { level: 14, as: 129 }, { level: 13, as: 143 }, { level: 15, as: 158 }, { level: 16, as: 174 }, { level: 17, as: 190 }, { level: 18, as: 208 }, { level: 19, as: 228 }];\n\n\t      return table.filter(function (e) {\n\t        return e.as <= remainingAncientSouls;\n\t      }).pop().level;\n\t    }\n\t  }, {\n\t    key: 'computeBorbA',\n\t    value: function computeBorbA(remainingAncientSouls) {\n\t      return Math.ceil(remainingAncientSouls / 10);\n\t    }\n\t  }, {\n\t    key: 'computePonyboy',\n\t    value: function computePonyboy(remainingAncientSouls) {\n\t      return Math.min(remainingAncientSouls, 19);\n\t    }\n\t  }, {\n\t    key: 'computeChorgorloth',\n\t    value: function computeChorgorloth(remainingAncientSouls) {\n\t      return Math.min(remainingAncientSouls, 10);\n\t    }\n\t  }, {\n\t    key: 'computeBorbD',\n\t    value: function computeBorbD(currentLevel, remainingAncientSouls) {\n\t      return Math.min(Math.max(10 - currentLevel, 0), remainingAncientSouls);\n\t    }\n\t  }, {\n\t    key: 'computeBorbE',\n\t    value: function computeBorbE(remainingAncientSouls) {\n\t      return Math.floor(remainingAncientSouls / 2);\n\t    }\n\t  }]);\n\n\t  return Formulas;\n\t}();\n\n\texports.default = Formulas;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar returnBaseLevel = function returnBaseLevel(baseLevel) {\n\t  return baseLevel;\n\t};\n\n\tvar idleAndHybrid = function idleAndHybrid(formula) {\n\t  return function (playStyle) {\n\t    if (playStyle === 'idle' || playStyle === 'hybrid') {\n\t      return formula;\n\t    }\n\t  };\n\t};\n\n\tvar activeOrHybrid = function activeOrHybrid(activeFormula, hybridFormula) {\n\t  return function (playStyle) {\n\t    if (playStyle === 'active') {\n\t      return activeFormula;\n\t    } else if (playStyle === 'hybrid') {\n\t      return hybridFormula;\n\t    }\n\t  };\n\t};\n\n\tvar allStyles = function allStyles(formula) {\n\t  return function () {\n\t    return formula;\n\t  };\n\t};\n\n\tvar HSOptimizer = function () {\n\t  HSOptimizer.$inject = [\"formulas\", \"mechanics\"];\n\t  function HSOptimizer(formulas, mechanics) {\n\t    'ngInject';\n\n\t    _classCallCheck(this, HSOptimizer);\n\n\t    this.formulas = formulas;\n\t    this.mechanics = mechanics;\n\n\t    // Khrysos, Thusia, Pluto and Iris don't exist anymore after transcending.\n\t    // They should be reintroduced in a pre-transcendent mode.\n\t    // No recommendation (yet) for Vaagur, Chawedo, Hecatoncheir, Berserker, Sniperino, Kleptos, Energon and Revolc.\n\t    this.ancientsOptimizedLevel = {\n\t      'Solomon': allStyles(function (baseLevel, old, alpha) {\n\t        return formulas.computeSolomonLevel(baseLevel, alpha);\n\t      }),\n\t      'Libertas': idleAndHybrid(formulas.computeGoldLevel),\n\t      'Siyalatas': idleAndHybrid(returnBaseLevel),\n\t      'Mammon': allStyles(formulas.computeGoldLevel),\n\t      'Mimzee': allStyles(formulas.computeGoldLevel),\n\t      'Dogcog': allStyles(formulas.computeDogcogLevel),\n\t      'Fortuna': allStyles(formulas.computeFortunaLevel),\n\t      'Atman': allStyles(formulas.computeAtmanLevel),\n\t      'Dora': allStyles(formulas.computeDoraLevel),\n\t      'Bhaal': activeOrHybrid(returnBaseLevel, function (baseLevel, old, alpha, hybridRatio) {\n\t        return formulas.computeHybridBhaalLevel(baseLevel, hybridRatio);\n\t      }),\n\t      'Morgulis': allStyles(formulas.computeMorgulisLevel),\n\t      'Chronos': allStyles(formulas.computeChronosLevel),\n\t      'Bubos': allStyles(formulas.computeBubosLevel),\n\t      'Fragsworth': activeOrHybrid(returnBaseLevel, function (baseLevel, old, alpha, hybridRatio) {\n\t        return formulas.computeHybridBhaalLevel(baseLevel, hybridRatio);\n\t      }),\n\t      'Kumawakamaru': allStyles(formulas.computeKumawakamaruLevel),\n\t      'Argaiv': allStyles(returnBaseLevel),\n\t      'Juggernaut': activeOrHybrid(formulas.computeActiveJuggernautLevel, function (baseLevel, old, alpha, hybridRatio) {\n\t        return formulas.computeHybridJuggernautLevel(baseLevel, hybridRatio);\n\t      }),\n\t      'Nogardnit': idleAndHybrid(formulas.computeNogardnitLevel)\n\t    };\n\t  }\n\n\t  _createClass(HSOptimizer, [{\n\t    key: 'computeOptimumLevels',\n\t    value: function computeOptimumLevels(ancientList, outsiders, hsInStock, ascendZone, ancientSoulsTotal, playStyle, hybridRatio) {\n\t      var _this = this;\n\n\t      var phandoryssLevel = outsiders.filter(function (outsider) {\n\t        return outsider.name === 'Phandoryss';\n\t      })[0].level;\n\t      var chorgorlothLevel = outsiders.filter(function (outsider) {\n\t        return outsider.name === 'Chor\\'gorloth';\n\t      })[0].level;\n\n\t      var baseLevel = 1;\n\n\t      // TODO add soul bank when Morgulis has not been summon\n\t      // const hasMorgulis = ancientList.some(ancient => ancient.name === 'Morgulis');\n\n\t      var tp = this.formulas.computeTranscendencePower(ancientSoulsTotal, phandoryssLevel);\n\t      var alpha = this.formulas.computeAlpha(tp, ascendZone);\n\n\t      var remainingHs = hsInStock;\n\t      var baseLevelIncrease = 0;\n\n\t      var computeNewLevel = function computeNewLevel(ancientName, playStyle, newBaseLevel, oldLevel, alpha, hybridRatio) {\n\t        var optimizationFormula = _this.ancientsOptimizedLevel[ancientName];\n\t        if (optimizationFormula) {\n\t          var playStyleForumla = optimizationFormula(playStyle);\n\t          if (playStyleForumla) {\n\t            return playStyleForumla(newBaseLevel, oldLevel, alpha, hybridRatio);\n\t          }\n\t        }\n\t      };\n\n\t      var normalize = function normalize(oldLevel, newLevel) {\n\t        if (oldLevel === 0) {\n\t          return 0;\n\t        }\n\t        if (newLevel === undefined) {\n\t          return undefined;\n\t        }\n\t        return Math.max(oldLevel, Math.round(newLevel));\n\t      };\n\n\t      var computeNewLevels = function computeNewLevels(currentAncients, newBaseLevel, alpha, hybridRatio) {\n\t        return currentAncients.map(function (ancient) {\n\t          return {\n\t            name: ancient.name,\n\t            currentLevel: ancient.level,\n\t            optimizedLevel: normalize(ancient.level, computeNewLevel(ancient.name, playStyle, newBaseLevel, ancient.level, alpha, hybridRatio))\n\t          };\n\t        }).filter(function (ancient) {\n\t          return ancient.optimizedLevel !== undefined;\n\t        });\n\t      };\n\n\t      var getCost = function getCost(ancientLevels, chorgorlothLevel) {\n\t        return ancientLevels.reduce(function (totalCost, ancient) {\n\t          return totalCost + _this.mechanics.getAncientUpgradeCost(ancient.name, ancient.currentLevel, ancient.optimizedLevel, chorgorlothLevel);\n\t        }, 0);\n\t      };\n\n\t      // Okay this is a little bit magic... and approximate also, but it's fast !\n\t      // TODO maybe switch to a more simple dichotomy\n\t      var baseOffset = 0;\n\t      var lastBaseOffset = -1;\n\t      // Continue until we are no longer able to increase the level without spending more HS than we have,\n\t      // or until (for large numbers) the next iteration of level increases costs less HS than the available precision\n\t      while (baseOffset != lastBaseOffset && (remainingHs >= 0 || baseLevelIncrease > 0)) {\n\t        lastBaseOffset = baseOffset;\n\t        remainingHs = hsInStock;\n\t        baseLevelIncrease = -1;\n\t        while (remainingHs >= 0) {\n\t          baseLevelIncrease++;\n\t          var levelToCheck = baseLevel + baseOffset + Math.pow(2, baseLevelIncrease);\n\t          var newLevels = computeNewLevels(ancientList, levelToCheck, alpha, hybridRatio);\n\t          remainingHs = hsInStock - getCost(newLevels, chorgorlothLevel);\n\t        }\n\t        if (baseLevelIncrease > 0) {\n\t          baseOffset += Math.pow(2, baseLevelIncrease - 1);\n\t        }\n\t      }\n\t      var newBaseLevel = baseLevel + baseOffset;\n\n\t      var optimumAncients = ancientList.map(function (ancient) {\n\t        var optimumLevel = normalize(ancient.level, computeNewLevel(ancient.name, playStyle, newBaseLevel, ancient.level, alpha, hybridRatio));\n\t        return {\n\t          name: ancient.name,\n\t          level: ancient.level,\n\t          optimumLevel: optimumLevel,\n\t          delta: optimumLevel - ancient.level };\n\t      }).filter(function (ancient) {\n\t        return ancient.optimumLevel !== undefined;\n\t      });\n\t      return optimumAncients;\n\t    }\n\t  }, {\n\t    key: 'computeOptimumAncientSouls',\n\t    value: function computeOptimumAncientSouls(outsiderList, ancientSoulsTotal, playStyle) {\n\t      var currentXyliqilLevel = outsiderList.filter(function (outsider) {\n\t        return outsider.name === 'Xyliqil';\n\t      })[0].level;\n\t      var currentChorgorlothLevel = outsiderList.filter(function (outsider) {\n\t        return outsider.name === 'Chor\\'gorloth';\n\t      })[0].level;\n\t      var currentPhandoryssLevel = outsiderList.filter(function (outsider) {\n\t        return outsider.name === 'Phandoryss';\n\t      })[0].level;\n\t      var currentBorbLevel = outsiderList.filter(function (outsider) {\n\t        return outsider.name === 'Borb';\n\t      })[0].level;\n\t      var currentPonyboyLevel = outsiderList.filter(function (outsider) {\n\t        return outsider.name === 'Ponyboy';\n\t      })[0].level;\n\n\t      var remainingAncientSouls = ancientSoulsTotal;\n\t      var xyliqilTargetLevel = void 0;\n\t      if (playStyle === 'idle') {\n\t        xyliqilTargetLevel = this.formulas.computeIdleXyliqil(ancientSoulsTotal);\n\t      } else if (playStyle === 'active') {\n\t        xyliqilTargetLevel = this.formulas.computeActiveXyliqil(ancientSoulsTotal);\n\t      } else if (playStyle === 'hybrid') {\n\t        xyliqilTargetLevel = this.formulas.computeHybridXyliqil(ancientSoulsTotal);\n\t      }\n\t      remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Xyliqil', 0, xyliqilTargetLevel);\n\t      var phandoryssTargetLevel = this.formulas.computePhandoryss(remainingAncientSouls);\n\t      remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Phandoryss', 0, phandoryssTargetLevel);\n\t      var borbTargetLevelA = this.formulas.computeBorbA(remainingAncientSouls);\n\t      remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Borb', 0, borbTargetLevelA);\n\t      var ponyTargetLevelB = this.formulas.computePonyboy(remainingAncientSouls);\n\t      remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Ponyboy', 0, ponyTargetLevelB);\n\t      var chorTargetLevelC = this.formulas.computeChorgorloth(remainingAncientSouls);\n\t      remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Chor\\'gorloth', 0, chorTargetLevelC);\n\t      var borbTargetLevelD = this.formulas.computeBorbD(borbTargetLevelA, remainingAncientSouls);\n\t      if (borbTargetLevelA < borbTargetLevelD) {\n\t        remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Borb', borbTargetLevelA, borbTargetLevelD);\n\t      }\n\t      var borbTargetLevelE = this.formulas.computeBorbE(remainingAncientSouls);\n\t      var intermediateBorbLevel = Math.max(borbTargetLevelA, borbTargetLevelD);\n\t      remainingAncientSouls -= this.mechanics.getOutsiderUpgradeCost('Borb', intermediateBorbLevel, intermediateBorbLevel + borbTargetLevelE);\n\t      var ponyTargetLevelE = remainingAncientSouls;\n\t      return [{ name: 'Xyliqil', order: 1, level: currentXyliqilLevel, optimumLevel: xyliqilTargetLevel }, { name: 'Chor\\'gorloth', order: 2, level: currentChorgorlothLevel, optimumLevel: chorTargetLevelC }, { name: 'Phandoryss', order: 3, level: currentPhandoryssLevel, optimumLevel: phandoryssTargetLevel }, { name: 'Borb', order: 4, level: currentBorbLevel, optimumLevel: intermediateBorbLevel + borbTargetLevelE }, { name: 'Ponyboy', order: 5, level: currentPonyboyLevel, optimumLevel: ponyTargetLevelB + ponyTargetLevelE }];\n\t    }\n\t  }]);\n\n\t  return HSOptimizer;\n\t}();\n\n\texports.default = HSOptimizer;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  'linear': {\n\t    'unit': function unit(n) {\n\t      return n;\n\t    },\n\t    'sum': function sum(n) {\n\t      return n * (n + 1) / 2;\n\t    } },\n\t  'linear10': {\n\t    'unit': function unit(n) {\n\t      return Math.ceil(n / 10);\n\t    },\n\t    'sum': function sum(n) {\n\t      return Math.ceil(n * (n + 1) / 20);\n\t    } },\n\t  'constant': {\n\t    'unit': function unit() {\n\t      return 1;\n\t    },\n\t    'sum': function sum(n) {\n\t      return n + 1;\n\t    } },\n\t  'exponential': {\n\t    'unit': function unit(n) {\n\t      return Math.pow(2, n);\n\t    },\n\t    'sum': function sum(n) {\n\t      return Math.pow(2, n + 1) - 1;\n\t    } },\n\t  'polynomial1_5': {\n\t    'unit': function unit(n) {\n\t      return Math.ceil(Math.pow(n, 1.5));\n\t    },\n\t    // Using approximation from Euler-Maclaurin formula:\n\t    // https://en.wikipedia.org/wiki/Euler%E2%80%93Maclaurin_formula#The_formula\n\t    // Inspired by;\n\t    // http://math.stackexchange.com/questions/1393811/sum-of-1-5-powers-of-natural-numbers\n\t    // return Infinity when n = 0, it should be 0, can be added as an 'exception'\n\t    // return 2 when n = 1, it should be 1, can be added as an 'exception'\n\t    'sumApprox': function sumApprox(n) {\n\t      return n === 0 ? 0 : Math.ceil(2 * Math.pow(n, 2.5) / 5 + Math.pow(n, 1.5) / 2 + Math.pow(n, 0.5) / 8 + Math.pow(n, -1.5) / 1920);\n\t    } },\n\t  'sum': function sum(fn) {\n\t    return function (n) {\n\t      var sum = 0;\n\t      for (var i = 0; i <= n; i++) {\n\t        sum += fn(i);\n\t      }\n\t      return sum;\n\t    };\n\t  }\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar Mechanics = function () {\n\t  Mechanics.$inject = [\"maths\"];\n\t  function Mechanics(maths) {\n\t    'ngInject';\n\n\t    _classCallCheck(this, Mechanics);\n\n\t    this.ancients = {\n\t      \"Solomon\": { id: \"3\", cost: maths.polynomial1_5 },\n\t      \"Libertas\": { id: \"4\", cost: maths.linear },\n\t      \"Siyalatas\": { id: \"5\", cost: maths.linear },\n\t      // Khrysos \"6\", quadratic\n\t      // Thusia \"7\", quadratic\n\t      \"Mammon\": { id: \"8\", cost: maths.linear },\n\t      \"Mimzee\": { id: \"9\", cost: maths.linear },\n\t      // Pluto \"10\", linear\n\t      \"Dogcog\": { id: \"11\", cost: maths.exponential },\n\t      \"Fortuna\": { id: \"12\", cost: maths.exponential },\n\t      \"Atman\": { id: \"13\", cost: maths.exponential },\n\t      \"Dora\": { id: \"14\", cost: maths.exponential },\n\t      \"Bhaal\": { id: \"15\", cost: maths.linear },\n\t      \"Morgulis\": { id: \"16\", cost: maths.constant },\n\t      \"Chronos\": { id: \"17\", cost: maths.exponential },\n\t      \"Bubos\": { id: \"18\", cost: maths.exponential },\n\t      \"Fragsworth\": { id: \"19\", cost: maths.linear },\n\t      \"Vaagur\": { id: \"20\", cost: maths.exponential },\n\t      \"Kumawakamaru\": { id: \"21\", cost: maths.exponential },\n\t      \"Chawedo\": { id: \"22\", cost: maths.exponential },\n\t      \"Hecatoncheir\": { id: \"23\", cost: maths.exponential },\n\t      \"Berserker\": { id: \"24\", cost: maths.exponential },\n\t      \"Sniperino\": { id: \"25\", cost: maths.exponential },\n\t      \"Kleptos\": { id: \"26\", cost: maths.exponential },\n\t      \"Energon\": { id: \"27\", cost: maths.exponential },\n\t      \"Argaiv\": { id: \"28\", cost: maths.linear },\n\t      \"Juggernaut\": { id: \"29\", cost: maths.polynomial1_5 },\n\t      // Iris \"30\", quadratic\n\t      \"Revolc\": { id: \"31\", cost: maths.exponential },\n\t      \"Nogardnit\": { id: \"32\", cost: maths.polynomial1_5 }\n\t    };\n\n\t    this.outsiders = {\n\t      \"Xyliqil\": { id: \"1\", cost: maths.constant },\n\t      \"Chor'gorloth\": { id: \"2\", cost: maths.linear10 },\n\t      \"Phandoryss\": { id: \"3\", cost: maths.linear },\n\t      \"Borb\": { id: \"4\", cost: maths.constant },\n\t      \"Ponyboy\": { id: \"5\", cost: maths.constant }\n\t    };\n\n\t    this.sum = maths.sum;\n\t  }\n\n\t  _createClass(Mechanics, [{\n\t    key: 'getAncientCostSum',\n\t    value: function getAncientCostSum(name) {\n\t      return this.ancients[name].cost.sum || this.ancients[name].cost.sumApprox;\n\t    }\n\t  }, {\n\t    key: 'getAncientNameById',\n\t    value: function getAncientNameById(id) {\n\t      for (var ancient in this.ancients) {\n\t        if (this.ancients[ancient].id === id) {\n\t          return ancient;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getAncientCost',\n\t    value: function getAncientCost(name) {\n\t      return this.ancients[name].cost.unit;\n\t    }\n\t  }, {\n\t    key: 'getAncientCostMultiplier',\n\t    value: function getAncientCostMultiplier(chorgorlothLevel) {\n\t      return Math.pow(0.95, chorgorlothLevel);\n\t    }\n\n\t    // Check edges (+/-1 on edges)\n\n\t  }, {\n\t    key: 'getAncientUpgradeCost',\n\t    value: function getAncientUpgradeCost(name, currentLevel, newLevel) {\n\t      var chorgorlothLevel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n\t      return Math.ceil((this.getAncientCostSum(name)(newLevel) - this.getAncientCostSum(name)(currentLevel)) * this.getAncientCostMultiplier(chorgorlothLevel));\n\t    }\n\t  }, {\n\t    key: 'getOutsiderNameById',\n\t    value: function getOutsiderNameById(id) {\n\t      for (var outsider in this.outsiders) {\n\t        if (this.outsiders[outsider].id === id) {\n\t          return outsider;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getOutsiderUpgradeCost',\n\t    value: function getOutsiderUpgradeCost(name, currentLevel, newLevel) {\n\t      var sum = this.sum(this.outsiders[name].cost.unit);\n\t      return sum(newLevel) - sum(currentLevel);\n\t    }\n\t  }]);\n\n\t  return Mechanics;\n\t}();\n\n\texports.default = Mechanics;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar playStyleReducer = function playStyleReducer(style1, style2) {\n\t  return style1 && style2 ? \"hybrid\" : style1 || style2;\n\t};\n\n\tvar SaveDataAnalyzer = function () {\n\t  SaveDataAnalyzer.$inject = [\"mechanics\"];\n\t  function SaveDataAnalyzer(mechanics) {\n\t    'ngInject';\n\n\t    _classCallCheck(this, SaveDataAnalyzer);\n\n\t    this.mechanics = mechanics;\n\t  }\n\n\t  _createClass(SaveDataAnalyzer, [{\n\t    key: 'getAncients',\n\t    value: function getAncients(saveData) {\n\t      var _this = this;\n\n\t      return Object.keys(saveData.ancients.ancients).map(function (id) {\n\t        return {\n\t          name: _this.mechanics.getAncientNameById(id),\n\t          level: Math.floor(saveData.ancients.ancients[id].level) };\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getOutsiders',\n\t    value: function getOutsiders(saveData) {\n\t      var _this2 = this;\n\n\t      return Object.keys(saveData.outsiders.outsiders).map(function (id) {\n\t        return {\n\t          name: _this2.mechanics.getOutsiderNameById(id),\n\t          level: Math.round(saveData.outsiders.outsiders[id].level) };\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getHsInStock',\n\t    value: function getHsInStock(saveData) {\n\t      return Math.round(saveData.heroSouls);\n\t    }\n\t  }, {\n\t    key: 'getHsUponAscend',\n\t    value: function getHsUponAscend(saveData) {\n\t      return Math.round(saveData.primalSouls);\n\t    }\n\t  }, {\n\t    key: 'getAncientSoulsTotal',\n\t    value: function getAncientSoulsTotal(saveData) {\n\t      return Math.round(saveData.ancientSoulsTotal);\n\t    }\n\t  }, {\n\t    key: 'getAscendZone',\n\t    value: function getAscendZone(saveData) {\n\t      return Math.round(saveData.highestFinishedZonePersist);\n\t    }\n\t  }, {\n\t    key: 'detectPlayStyle',\n\t    value: function detectPlayStyle(saveData) {\n\t      return this.getAncients(saveData).filter(function (ancient) {\n\t        return ancient.name === \"Siyalatas\" || ancient.name === \"Fragsworth\";\n\t      }).map(function (ancient) {\n\t        return ancient.name === \"Siyalatas\" ? \"idle\" : \"active\";\n\t      }).reduce(playStyleReducer, undefined);\n\t    }\n\t  }, {\n\t    key: 'hasTranscended',\n\t    value: function hasTranscended(saveData) {\n\t      return !!saveData.transcendent;\n\t    }\n\t  }, {\n\t    key: 'getNumberDisplayMode',\n\t    value: function getNumberDisplayMode(saveData) {\n\t      return !!saveData.numberDisplayMode;\n\t    }\n\t  }]);\n\n\t  return SaveDataAnalyzer;\n\t}();\n\n\texports.default = SaveDataAnalyzer;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\t// Ignoring foreign code\n\t// Almost entirely taken from:\n\t// https://github.com/DobruJ01/clicker-lister/blob/master/common/saveDecoder.js\n\t/* eslint-disable */\n\t/*\n\t  ==================================================\n\t  Contains the savefile decoding code. Most of it is\n\t  adapted from other sources. I didn't think to save\n\t  the source at the time, if you recognize your code\n\t  and want credit for it, let me know.\n\t  ==================================================\n\t*/\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ANTI_CHEAT_CODE = 'Fe12NAfA3R6z4k0z';\n\tvar SALT = 'af0ik392jrmt0nsfdghy0';\n\n\tfunction _decryptSave(string) {\n\t  // Find anticheatcode\n\t  var antiCheatCodeIndex = string.search(ANTI_CHEAT_CODE);\n\t  // If found, convert string from anticheatformat\n\t  if (antiCheatCodeIndex != -1) string = fromAntiCheatFormat(string);\n\t  // Then decrypt the result using standard base 64 decryption\n\t  var jsonString = atob(string);\n\n\t  return JSON.parse(jsonString);\n\t}\n\n\tfunction fromAntiCheatFormat(string) {\n\t  // Separate the things by the anticheatcode\n\t  var elements = string.split(ANTI_CHEAT_CODE);\n\t  // Unsprinkle the actual save\n\t  var data = unSprinkle(elements[0]);\n\t  // Get the hash\n\t  var hash = elements[1];\n\t  // Calculate the actual hash from the data\n\t  var dataHash = getHash(data);\n\t  // Check if the calculated hash is the same as the given hash, if yes then return the data\n\t  if (dataHash = hash) return data;\n\t  alert(\"Hash is bad\");\n\t}\n\n\tfunction unSprinkle(string) {\n\t  // Unsprinkles the save. Sprinkle adds randomized elements after every character. Split by \"\" to separate it all into separate spots in the array.\n\t  // Splitting the array isn't strictly necessary. Strings are technically an array of letters. Might try to remove the splitting and see if it still works.\n\n\t  var array = string.split(\"\");\n\t  // Empty array for the result.\n\t  var result = [];\n\t  var counter = 0;\n\n\t  // Until we reach the end of the string...\n\t  while (counter < array.length) {\n\t    // Take a letter, add it to the new array at half the value it was at from the start. 0 becomes 0. 2 becomes 1. 4 becomes 2. 6 becomes 3. etc.\n\t    result[counter / 2] = array[counter];\n\t    // Advancing by two steps skips every other letter, effectively unsprinkling it.\n\t    counter += 2;\n\t  }\n\t  return result.join(\"\");\n\t}\n\n\tfunction getHash(string) {\n\t  // Split the string up. Again, not strictly necessary, might change at some point.\n\t  var characters = string.split();\n\t  // Sort the string. The hash doesn't need to be decrypted, only encrypted, thus the actual data isn't preserved.\n\t  characters.sort();\n\t  // Joins the characters into a variable. Not sure if this step is necessary either.\n\t  var sortedcharacters = characters.join();\n\t  // Returns and MD5 hash. Not the most secure of hashes, but functional and suitable for our uses.\n\t  return CryptoJS.MD5(sortedcharacters + SALT);\n\t}\n\n\t/* eslint-enable */\n\n\tvar SaveDecoder = function () {\n\t  function SaveDecoder() {\n\t    'ngInject';\n\n\t    _classCallCheck(this, SaveDecoder);\n\t  }\n\n\t  _createClass(SaveDecoder, [{\n\t    key: 'decryptSave',\n\t    value: function decryptSave(encodedSaveData) {\n\t      return _decryptSave(encodedSaveData);\n\t    }\n\t  }]);\n\n\t  return SaveDecoder;\n\t}();\n\n\texports.default = SaveDecoder;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = exponential;\n\tfunction exponential() {\n\t  return function (input) {\n\t    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000;\n\n\t    if (input <= limit) {\n\t      return input.toLocaleString();\n\t    }\n\t    return input.toExponential(3).replace('+', '');\n\t  };\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\texports.default = units;\n\tfunction units() {\n\t  var suffixes = ['', 'K', 'M', 'B', 'T', 'q', 'Q', 's', 'S', 'O', 'N', 'd', 'U', 'D', '!', '@', '#', '$', '%', '^', '&', '*'];\n\t  var formatScientificNotation = function formatScientificNotation(input) {\n\t    return input.toExponential(3).replace('+', '');\n\t  };\n\t  var formatWithSuffix = function formatWithSuffix(input, order) {\n\t    return Math.round(input / Math.pow(1000, order)).toLocaleString('en-US') + suffixes[order];\n\t  };\n\t  var formatWithoutSuffix = function formatWithoutSuffix(input) {\n\t    return formatWithSuffix(input, 0);\n\t  };\n\n\t  return function (input) {\n\t    var scientificNotation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t    if (scientificNotation) {\n\t      if (Math.abs(input) <= 100000) {\n\t        return formatWithoutSuffix(input);\n\t      }\n\t      return formatScientificNotation(input);\n\t    } else {\n\t      var log10 = void 0;\n\t      if (_typeof(Math.log10) !== ( true ? 'undefined' : _typeof(undefined))) {\n\t        log10 = Math.log10;\n\t      } else {\n\t        log10 = function log10(x) {\n\t          return Math.log(x) / Math.log(10);\n\t        };\n\t      }\n\n\t      var order = Math.max(Math.floor((log10(Math.abs(input)) - 2) / 3), 0);\n\t      if (order >= suffixes.length) {\n\t        return formatScientificNotation(input);\n\t      }\n\n\t      var _formatWithSuffix = function _formatWithSuffix(input, order) {\n\t        return Math.round(input / Math.pow(1000, order)).toLocaleString('en-US') + suffixes[order];\n\t      };\n\t      return _formatWithSuffix(input, order);\n\t    }\n\t  };\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\texports.default = numberToExport;\n\tfunction numberToExport() {\n\t  var limit = 1e20;\n\n\t  var getLog10 = function getLog10() {\n\t    if (_typeof(Math.log10) !== ( true ? \"undefined\" : _typeof(undefined))) {\n\t      return Math.log10;\n\t    } else {\n\t      return function (x) {\n\t        return Math.log(x) / Math.log(10);\n\t      };\n\t    }\n\t  };\n\n\t  var integralScientificNotation = function integralScientificNotation(input) {\n\t    var log10 = getLog10();\n\t    var exponent = Math.floor(log10(input));\n\t    var integralExponent = exponent - 10;\n\t    var integralSignificand = Math.floor(input / Math.pow(10, integralExponent));\n\t    return integralSignificand + \"e\" + integralExponent;\n\t  };\n\n\t  return function (input) {\n\t    if (input > limit) {\n\t      return integralScientificNotation(input);\n\t    }\n\n\t    return input.toString();\n\t  };\n\t}\n\n/***/ }\n/******/ ]);\nangular.module('clickerHeroes10Hsoptimizer').run(['$templateCache', function($templateCache) {$templateCache.put('app/main/main.html','<div class=header> <div class=container> <h1>Clicker Heroes 1.0 HS Optimizer</h1> </div> </div> <div class=container> <div class=row> <p>This calculator is based on <a href=https://www.reddit.com/r/ClickerHeroes/comments/4naohc/math_and_transcendance><strong>Math and Transcendance</strong></a> by <a href=https://www.reddit.com/user/sugima>/u/sugima</a> and <a href=https://www.reddit.com/r/ClickerHeroes/comments/3y57jd/updated_rules_of_thumb/ ><strong>Updated Rules of Thumb!</strong></a> by <a href=https://www.reddit.com/user/TinDragon>/u/TinDragon</a> for HS optimization and <a href=https://www.reddit.com/r/ClickerHeroes/comments/4rrbpi/math_outsiders_rule_of_thumb/ ><strong>[Math] Outsiders - Rule of Thumb</strong></a> by <a href=https://www.reddit.com/user/Stratege1337>/u/Stratege1337</a> for AS optimization. Nogardnit level is taken from <a href=https://www.reddit.com/r/ClickerHeroes/comments/5dc7y9/anyone_done_the_math_on_nogardtin_yet/ ><strong>Anyone done the math on Nogardtin yet?</strong></a>.</p> <p>It can compute optimized ancients and outsiders levels using idle, active and hybrid builds.</p> <p>You need to have transcended at least once to make the calculator work.</p> <p>You need at least Siyalatas or Fragsworth at level 1 to have HS suggestions.</p> <p>Source code is <a href=https://www.github.com/superbob/clicker-heroes-1.0-hsoptimizer>here</a>, feel free to open to <a href=https://github.com/superbob/clicker-heroes-1.0-hsoptimizer/issues>issues</a> and <a href=https://github.com/superbob/clicker-heroes-1.0-hsoptimizer/pulls>pull requests</a>.</p> <p>Announcement and discussions on <a href=https://www.reddit.com/r/ClickerHeroes/comments/4qhud9/transcendence_hs_optimizer>/r/ClickerHeroes/comments/4qhud9/transcendence_hs_optimizer</a>. </p></div> <div class=row> <div class=\"panel panel-default\"> <div class=panel-heading>Data</div> <div class=panel-body> <div class=col-md-4> <form> <div class=form-group> <label for=saveData>Save data</label> <textarea class=form-control id=saveData rows=3 placeholder=\"Paste your save data here\" ng-model=main.encodedSaveData autofocus></textarea> </div> <p class=text-danger ng-show=main.error>{{main.error}}</p> </form> </div> <form class=form-inline> <div class=col-md-4> <div class=form-group> <label for=ascendZone>Ascend zone</label> <input type=text class=form-control id=ascendZone ng-model=main.ascendZone> </div> <div class=form-group> <div class=checkbox> <label> <input type=checkbox ng-model=main.includeSoulsFromAscend>Include souls from ascension<span ng-if=main.saveData> (+{{main.hsFromAscend | units:useScientificNotation}})</span> </label> </div> </div> <div class=form-group> <div class=checkbox> <label> <input type=checkbox ng-model=main.useScientificNotation>Use scientific notation </label> </div> </div> </div> <div class=col-md-4> <div class=row> <div class=form-group> <label>Playstyle</label> <div class=radio> <label> <input type=radio name=playstyle id=playStyleIdle value=idle ng-model=main.playStyle checked> Idle </label> </div> <div class=radio> <label> <input type=radio name=playstyle id=playStyleHybrid value=hybrid ng-model=main.playStyle> Hybrid </label> </div> <div class=radio> <label> <input type=radio name=playstyle id=playStyleActive value=active ng-model=main.playStyle> Active </label> </div> </div> </div> <div class=row ng-if=\"main.playStyle == \\'hybrid\\'\"> <div class=form-group> Hybrid Idle/Active ratio <rzslider rz-slider-model=main.slider.value rz-slider-options=main.slider.options></rzslider> </div> </div> </div> </form> </div> </div> </div> <div class=row ng-if=main.saveData> <div class=col-md-6 ng-if=!main.suggestHs> <p>You need at least Siyalatas or Fragsworth to have HS suggestions.</p> </div> <div class=col-md-6 ng-if=main.suggestHs> <p>You have {{main.hsInStock | units:useScientificNotation}} HS in stock.</p> <table class=\"table table-striped table-condensed\"> <thead> <tr> <th>Ancient</th> <th>Current</th> <th>Goal</th> <th>Delta</th> <th>Cost (HS)</th> </tr> </thead> <tbody> <tr ng-repeat=\"ancient in main.ancients | orderBy : \\'name\\'\"> <td>{{ancient.name}}</td> <td>{{ancient.level | units:useScientificNotation}}</td> <td>{{ancient.optimumLevel | units:useScientificNotation}}</td> <td><strong><a class=selectable ngclipboard data-clipboard-text=\"{{ancient.optimumLevel - ancient.level | numberToExport}}\" uib-tooltip=\"Click to copy {{ancient.optimumLevel - ancient.level | numberToExport}} to clipboard\" tooltip-placement=right>+{{ancient.optimumLevel - ancient.level | units:useScientificNotation}}</a></strong></td> <td>{{main.getAncientUpgradeCost(ancient.name, ancient.level, ancient.optimumLevel) | units:useScientificNotation}}</td> </tr> </tbody> <tfoot> <tr> <th colspan=4><strong>Total cost</strong></th> <th><strong>{{main.totalCost | units:useScientificNotation}}</strong></th> </tr> </tfoot> </table> </div> <div class=col-md-6> <p>You have {{main.asTotal | units:useScientificNotation}} total AS.</p> <table class=\"table table-striped table-condensed\"> <thead> <tr> <th>Outsider</th> <th>Goal</th> <th>Cost (AS)</th> </tr> </thead> <tbody> <tr ng-repeat=\"outsider in main.outsiders | orderBy : \\'order\\'\"> <td>{{outsider.name}}</td> <td>{{outsider.optimumLevel | units:useScientificNotation}}</td> <td>{{main.getOutsiderUpgradeCost(outsider.name, 0, outsider.optimumLevel) | units:useScientificNotation}}</td> </tr> </tbody> </table> <p class=text-warning>Warning: These suggestions don\\'t consider your existing levels of outsiders. It consider total AS, optimum levels and costs from zero.</p> </div> </div> <div class=row> <div class=\"panel panel-default\"> <div class=panel-heading>More Info</div> <div class=panel-body> <p>This optimizer is primarly based on <a href=https://www.reddit.com/r/ClickerHeroes/comments/4naohc/math_and_transcendance>these formulas</a> by <a href=https://www.reddit.com/user/sugima>/u/sugima</a> for idle builds.</p> <p><a href=https://www.reddit.com/r/ClickerHeroes/comments/3y57jd/updated_rules_of_thumb/ >Older formulas</a> by <a href=https://www.reddit.com/user/TinDragon>/u/TinDragon</a> are used to compute active and hybrid builds.</p> <p> Finally, <a href=https://www.reddit.com/r/ClickerHeroes/comments/4rrbpi/math_outsiders_rule_of_thumb/ >these formulas</a> by <a href=https://www.reddit.com/user/Stratege1337>/u/Stratege1337</a> are used to compute AS optimization for any build. Be careful, AS optimization is highly experimental as it is not base on \"hard\" math. </p> <p>Also, <a href=https://www.reddit.com/user/Shruikan864>/u/Shruikan864</a>\\'s <a href=https://www.reddit.com/r/ClickerHeroes/comments/4nox6i/rules_of_thumb_10_spreadsheet/ >Rules of Thumb 1.0 Spreadsheet</a> was used to get and verify some important formulas (Chor multiplier, TP, alpha, ...).</p> <p>Important variations with other calculators can come from rounding, as a \"round to the nearest integer\" is applied in computed optimized ancient levels instead of a floor that can be seen in other calculators (such as <a href=https://kepow.org/clickerheroes>kepow</a> or <em>Rules of Thumb 1.0 Spreadsheet</em>).</p> </div> </div> </div> </div> ');}]);"]}